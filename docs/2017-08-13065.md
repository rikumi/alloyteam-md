---
title: AlloyTeam ESLint 配置指南
date: 2017-08-28
author: xcatliu
source_link: http://www.alloyteam.com/2017/08/13065/
---

<!-- {% raw %} - for jekyll -->

ESLint 是一个应用广泛的 JavaScript 代码检查工具。本文主要介绍由 AlloyTeam 总结的 ESLint 配置，以及应用 ESLint 配置时的一些经验和工具。

## 配置原则

我们依据以下三条原则，研读了 ESLint 所有的配置项，定制出了心目中「完美」的 [ESLint 配置](https://github.com/AlloyTeam/eslint-config-alloy)。

1.  能够帮助发现代码错误的规则，全部开启
2.  配置不应该依赖于某个具体项目，而应尽可能的合理
3.  帮助保持团队的代码风格统一，而不是限制开发体验

## 配置解读

我们对每一条配置，都有详尽的注释，这样不仅方便了我们自己查阅某项配置的意义和如此配置的原因，也使大家更容易配置出自己心目中的规则：

-   每一条配置都有注释说明此配置的用途
-   对于理解困难的配置，都在注释中有举例
-   对于有争议的配置，都在注释中说明了为什么要这么配置的原因
-   对于关闭掉的配置，都在注释中有对应的原因说明，以及 `@off` 的标识
-   对于能够 autofix 的配置，都在注释中有标注 `@autofix`

详细的配置内容在这里：

-   [ESLint 标准规则](https://github.com/AlloyTeam/eslint-config-alloy/blob/master/index.js)
-   [eslint-plugin-react 规则](https://github.com/AlloyTeam/eslint-config-alloy/blob/master/react.js)
-   [eslint-plugin-vue 规则](https://github.com/AlloyTeam/eslint-config-alloy/blob/master/vue.js)

下面列出一个代码片段供参考：

```javascript
module.exports = {
    parser: 'babel-eslint',
    parserOptions: {
        ecmaVersion: 2017,
        sourceType: 'module',
        ecmaFeatures: {
            experimentalObjectRestSpread: true,
            jsx: true
        }
    },
    env: {
        browser: true,
        node: true,
        commonjs: true,
        es6: true
    },
    // 以当前目录为根目录，不再向上查找 .eslintrc.js
    root: true,
    rules: {
        //
        //
        // 可能的错误
        // 这些规则与 JavaScript 代码中可能的语法错误或逻辑错误有关
        //
        // 禁止 for 循环出现方向错误的循环，比如 for (i = 0; i < 10; i--)
        'for-direction': 'error',
        // getter 必须有返回值，并且禁止返回空，比如 return;
        'getter-return': [
```


<!-- {% endraw %} - for jekyll -->